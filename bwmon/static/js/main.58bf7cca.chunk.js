(this.webpackJsonpbwmon=this.webpackJsonpbwmon||[]).push([[0],{110:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(10),c=a.n(s),o=a(37),i=a(21),u=a(79),l=Object(u.a)({overrides:{MuiTableCell:{sizeSmall:{padding:"8px 0px 8px 16px"}},MuiFormControl:{root:{margin:"8px 0px 8px 16px"}},MuiGrid:{item:{alignSelf:"center"}}}}),m=a(176),f=a(177),p=a(146),d=a(148),h=a(150),g=a(85),b=Object(p.a)({title:{flexGrow:1}}),v=function(){var e=b();return r.a.createElement(d.a,{position:"static"},r.a.createElement(h.a,{variant:"dense"},r.a.createElement(g.a,{id:"app-title",variant:"h6",className:e.title},"Bandwidth Monitor Usage"),r.a.createElement(g.a,{id:"app-version",className:e.text},"3.0.0")))},y=Object(p.a)((function(e){return{root:{flexGrow:1,margin:e.spacing(2)}}})),E=function(e){var t=e.currentTime,a=y();return r.a.createElement("div",{className:a.root},r.a.createElement(g.a,{variant:"subtitle2"},"All usage information is in gigabytes"),r.a.createElement(g.a,{variant:"subtitle2"},"This page was generated on ",t))},w=a(151),O=a(152),j=a(8),x=a(13),M=function(e){var t=Object(n.useState)(0),a=Object(j.a)(t,2),r=a[0],s=a[1],c=Object(x.f)();return Object(n.useEffect)((function(){var t=e.findIndex((function(e){return e.pathname===c.pathname}));s(-1===t?0:t)}),[c,e]),{index:r,setIndex:s}},S=Object(p.a)({}),k=function(e){var t=e.menu,a=S(),n=M(t),s=n.index,c=n.setIndex;return r.a.createElement(w.a,{value:s,onChange:function(e,t){return c(t)},showLabels:!0,className:a.root},t.map((function(e,t){return r.a.createElement(O.a,{id:e.id,key:e.pathname,value:t,label:e.label,icon:e.icon,component:o.b,to:e.pathname})})))},P=a(179),B=a(154),I=Object(p.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),U=function(e){var t=e.severity,a=e.message,n=I();return a?r.a.createElement("div",{className:n.root},r.a.createElement(P.a,{severity:t},r.a.createElement(B.a,null,a))):null},C=function(e){var t=e.message;return r.a.createElement(U,{severity:"error",message:t})},Y=function(){return r.a.createElement(C,{message:"Page Not Found"})},T=function(e){var t=e.menu;return r.a.createElement(x.c,null,r.a.createElement(x.a,{key:"0-default",exact:!0,path:"/",component:t[0].component}),t.map((function(e,t){return r.a.createElement(x.a,{key:e.pathname,path:e.pathname,component:e.component})})),r.a.createElement(x.a,{key:"0-error",component:Y}))},N=a(20),D=a(76),F=a(81),A=a(80),L=function(e){Object(F.a)(a,e);var t=Object(A.a)(a);function a(){var e;Object(N.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={error:null,errorInfo:null},e.renderError=function(){return e.state.error?r.a.createElement(C,{message:e.state.error.toString()}):null},e.renderErrorInfo=function(){return e.state.errorInfo?r.a.createElement("div",null,e.state.errorInfo.componentStack):null},e}return Object(D.a)(a,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){return this.state.error||this.state.errorInfo?r.a.createElement("div",null,this.renderError(),this.renderErrorInfo()):this.props.children}}]),a}(n.Component),R=a(171),G=a(172),H=a(173),q=a(174),z=a(175),W=a(168),_=a(160),J=a(156),$=a(157),K=a(111),Q=a(169),V=a(155),X=function(e){var t=e.prefix,a=e.cellInfos,n=e.values;return r.a.createElement(V.a,null,n.map((function(e,n){return r.a.createElement(J.a,{key:e.id,id:t+"-data-"+n,style:n%2?{background:"ghostwhite"}:{background:"white"}},a.map((function(t){return r.a.createElement($.a,{key:t.id,align:t.align},t.convert?t.convert(e[t.id]):e[t.id])})))})))},Z=function e(t,a,n,r,s,c){Object(N.a)(this,e),this.id=t,this.sortable=a,this.align=n,this.label=r,this.footer=s,this.convert=c},ee=a(82),te=a(178),ae=a(182),ne=function(e){var t=e.items,a=Object(ee.a)(e,["items"]);return t&&a.value?r.a.createElement(te.a,a,t.map((function(e,t){return r.a.createElement(ae.a,{key:t,value:e},e)}))):null},re=function(e){var t=e.prefix,a=e.cellInfos,n=e.values;return r.a.createElement(_.a,null,r.a.createElement(J.a,{key:"footer",id:t+"-footer"},a.map((function(e,t){var a=0===t?"Totals":e.footer?e.convert?e.convert(n[e.id]):n[e.id]:"";return r.a.createElement($.a,{key:e.id,align:e.align},a)}))))},se=a(183),ce=Object(p.a)((function(e){return{visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),oe=function(e){var t=e.prefix,a=e.cellInfos,n=e.onRequestSort,s=e.ascending,c=e.orderBy,o=ce();return r.a.createElement(_.a,null,r.a.createElement(J.a,{key:"header"},a.map((function(e){if(e.sortable){var a=s?"asc":"desc";return r.a.createElement($.a,{id:t+"-"+e.id,key:e.id,align:e.align,sortDirection:c===e.id&&a},r.a.createElement(se.a,{active:c===e.id,direction:c===e.id?a:"asc",onClick:(i=e.id,function(e){n(e,i)})},e.label,c===e.id?r.a.createElement("span",{className:o.visuallyHidden},"desc"===a?"sorted descending":"sorted ascending"):null))}return r.a.createElement($.a,{key:e.id,align:e.align},e.label);var i}))))},ie=a(27),ue=a(153),le=a(180),me=a(161),fe=a(162),pe=a(163),de=a(164),he=Object(p.a)((function(e){return{root:{flexShrink:0}}})),ge=function(e){var t=e.count,a=e.page,n=e.rowsPerPage,s=e.onChangePage,c=he(),o=Object(ie.a)();return r.a.createElement("div",{className:c.root},r.a.createElement(ue.a,{onClick:function(e){s(e,0)},disabled:0===a,"aria-label":"first page"},"rtl"===o.direction?r.a.createElement(me.a,null):r.a.createElement(fe.a,null)),r.a.createElement(ue.a,{onClick:function(e){s(e,a-1)},disabled:0===a,"aria-label":"previous page"},"rtl"===o.direction?r.a.createElement(pe.a,null):r.a.createElement(de.a,null)),r.a.createElement(ue.a,{onClick:function(e){s(e,a+1)},disabled:a>=Math.ceil(t/n)-1,"aria-label":"next page"},"rtl"===o.direction?r.a.createElement(de.a,null):r.a.createElement(pe.a,null)),r.a.createElement(ue.a,{onClick:function(e){s(e,Math.max(0,Math.ceil(t/n)-1))},disabled:a>=Math.ceil(t/n)-1,"aria-label":"last page"},"rtl"===o.direction?r.a.createElement(fe.a,null):r.a.createElement(me.a,null)))},be=function(e){var t=function(e,t){var a=[e];if(t>e){for(var n=2*e;n<t;n*=2)a.push(n);a.push(t)}return a}(Math.min(e.minimum,e.count),e.count);return r.a.createElement(le.a,Object.assign({},e,{labelRowsPerPage:"",SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0,id:"select-rows-per-page-id",labelId:"select-label-rows-per-page-id"},rowsPerPageOptions:t,ActionsComponent:ge}))},ve=a(181),ye=a(166),Ee=a(77),we=a.n(Ee),Oe=function(e){var t=Object.assign({},e);return r.a.createElement(ve.a,Object.assign({},t,{InputProps:{startAdornment:r.a.createElement(ye.a,{position:"start"},r.a.createElement(we.a,null))},placeholder:"IP, MAC or USER"}))},je=function(e){return i.DateTime.fromSeconds(Number(e)).toFormat("MMM dd, yyyy HH:mm")},xe=function(e){return i.DateTime.local(2012,e).toFormat("MMMM")},Me=function(e){return(Number(e)/1e6).toFixed(3)},Se=function(e){return Number(e).toFixed(1)+"%"},ke=a(50),Pe=function(e,t){return e?function(e,a){return function(e,t,a){return e[a]<t[a]?-1:e[a]>t[a]?1:0}(e,a,t)}:function(e,a){return function(e,t,a){return e[a]>t[a]?-1:e[a]<t[a]?1:0}(e,a,t)}},Be=function(e,t){return Object(ke.a)(e).sort(t)},Ie=a(6),Ue=a.n(Ie),Ce=a(12),Ye=function e(t,a,n,r,s,c,o,i,u){Object(N.a)(this,e),this.id=t,this.IP=n,this.MAC=r,this.user=s,this.download=Number(c),this.upload=Number(o),this.firstSeen=Number(i),this.lastSeen=Number(u),this.year=+a.split("-")[0],this.month=+a.split("-")[1],this.total=this.download+this.upload,this.days=Math.floor(Math.abs(this.lastSeen-this.firstSeen)/86400+1),this.average=+(this.total/this.days).toFixed(3)},Te=function(e){return e.replace(/[\r]/g,"").split("\n").map((function(e,t){var a=e.replace(/[\n]/g,"").split(",");return a.length<8?null:new Ye(t,a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7])})).filter((function(e){return null!==e}))},Ne=new function e(){Object(N.a)(this,e),this.request=function(){var e=Object(Ce.a)(Ue.a.mark((function e(t){var a,n,r;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t+"/usage.db",e.next=3,fetch(a);case 3:if((n=e.sent).ok){e.next=6;break}throw new Error(n.status+" "+n.statusText);case 6:return e.next=8,n.text();case 8:return r=e.sent,e.abrupt("return",Te(r));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},De=new function e(){var t=this;Object(N.a)(this,e),this.orderBy=function(e,t){var a=t.year-e.year;return 0===a&&0===(a=t.month-e.month)&&0===(a=e.IP<t.IP?-1:e.IP>t.IP?1:0)&&(a=t.id-e.id),a},this.data=Object(Ce.a)(Ue.a.mark((function e(){var a,n;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=i.DateTime.local(),t.cached&&!(a.diff(t.last,["minutes"]).minutes>=10)){e.next=7;break}return e.next=4,Ne.request("/bwmon");case 4:n=e.sent,t.cached=n.sort(t.orderBy),t.last=a;case 7:return e.abrupt("return",t.cached);case 8:case"end":return e.stop()}}),e)}))),this.sum=function(e,t,a){var n=0,r=0,s=0;return e.forEach((function(e){n+=e.download,r+=e.upload,s+=e.total})),{id:a,download:n,upload:r,total:s,average:+(s/t).toFixed(3),days:t}},this.getYears=Object(Ce.a)(Ue.a.mark((function e(){var a;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.data();case 2:return a=e.sent,e.abrupt("return",Object(ke.a)(new Set(a.map((function(e){return e.year})))));case 4:case"end":return e.stop()}}),e)}))),this.getMonths=function(){var e=Object(Ce.a)(Ue.a.mark((function e(a){var n;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.data();case 2:return n=e.sent,e.abrupt("return",Object(ke.a)(new Set(n.filter((function(e){return e.year===a})).map((function(e){return e.month})))));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getUsageByYear=function(){var e=Object(Ce.a)(Ue.a.mark((function e(a){var n,r,s;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.data();case 2:return n=e.sent,r=i.DateTime.local(a,12,31).daysInYear,s=n.filter((function(e){return e.year===a})),e.abrupt("return",t.sum(s,r,a));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getUsageByUser=function(){var e=Object(Ce.a)(Ue.a.mark((function e(a,n,r){var s,c,o,u;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.data();case 2:return s=e.sent,c=i.DateTime.local(a,n).daysInMonth,o=s.filter((function(e){return e.year===a&&e.month===n})),r&&(o=o.filter((function(e){var t=r.toLowerCase();return-1!==e.IP.toLowerCase().indexOf(t)||-1!==e.MAC.toLowerCase().indexOf(t)||-1!==e.user.toLowerCase().indexOf(t)}))),u=t.sum(o,c,n),o.forEach((function(e){return e.percent=+(100*e.total/u.total).toFixed(1)})),e.abrupt("return",{usage:o,total:u});case 9:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),this.last=i.DateTime.local()},Fe=new function e(){Object(N.a)(this,e),this.getYears=Object(Ce.a)(Ue.a.mark((function e(){return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De.getYears();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),this.getMonths=function(){var e=Object(Ce.a)(Ue.a.mark((function e(t){var a;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De.getMonths(t);case 2:return a=e.sent,e.abrupt("return",a.map((function(e){return i.DateTime.local(t,e).toFormat("MMMM")})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getUsageByUser=function(){var e=Object(Ce.a)(Ue.a.mark((function e(t,a,n){return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De.getUsageByUser(t,i.DateTime.fromFormat(t+"-"+a,"yyyy-MMMM").month,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),this.getUsageByMonth=function(){var e=Object(Ce.a)(Ue.a.mark((function e(t){var a,n,r;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De.getMonths(t);case 2:return a=e.sent,e.next=5,De.getUsageByYear(t);case 5:return n=e.sent,e.next=8,Promise.all(a.map(function(){var e=Object(Ce.a)(Ue.a.mark((function e(a){var n;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De.getUsageByUser(t,a);case 2:return n=e.sent,e.abrupt("return",n.total);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:return(r=e.sent).forEach((function(e){return e.percent=+(100*e.total/n.total).toFixed(1)})),e.abrupt("return",{usage:r,total:n});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getUsageByYear=Object(Ce.a)(Ue.a.mark((function e(){var t;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De.getYears();case 2:return t=e.sent,e.next=5,Promise.all(t.map(function(){var e=Object(Ce.a)(Ue.a.mark((function e(t){var a;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De.getUsageByYear(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))},Ae=function(){var e=Object(n.useState)(),t=Object(j.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(),c=Object(j.a)(s,2),o=c[0],i=c[1];return Object(n.useEffect)((function(){function e(){return(e=Object(Ce.a)(Ue.a.mark((function e(){var t;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe.getYears();case 2:t=e.sent,r(t),i(t[0]);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),{years:a,year:o,setYear:i}},Le=function(){var e=Ae(),t=e.years,a=e.year,r=e.setYear,s=Object(n.useState)(),c=Object(j.a)(s,2),o=c[0],i=c[1],u=Object(n.useState)(),l=Object(j.a)(u,2),m=l[0],f=l[1];return Object(n.useEffect)((function(){function e(){return(e=Object(Ce.a)(Ue.a.mark((function e(){var t;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe.getMonths(a);case 2:t=e.sent,i(t),f(t[0]);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a&&function(){e.apply(this,arguments)}()}),[a]),{years:t,year:a,setYear:r,months:o,month:m,setMonth:f}},Re=function(){var e=Le(),t=e.years,a=e.year,r=e.setYear,s=e.months,c=e.month,o=e.setMonth,i=Object(n.useState)(""),u=Object(j.a)(i,2),l=u[0],m=u[1],f=Object(n.useState)(),p=Object(j.a)(f,2),d=p[0],h=p[1],g=Object(n.useState)(!0),b=Object(j.a)(g,2),v=b[0],y=b[1];return Object(n.useEffect)((function(){function e(){return(e=Object(Ce.a)(Ue.a.mark((function e(){var t;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe.getUsageByUser(a,c,l);case 2:t=e.sent,h(t),y(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a&&c&&function(){e.apply(this,arguments)}()}),[a,c,l]),{years:t,year:a,setYear:r,months:s,month:c,setMonth:o,filter:l,setFilter:m,data:d,loading:v}},Ge=function(e,t){var a=Object(n.useState)(e),r=Object(j.a)(a,2),s=r[0],c=r[1],o=Object(n.useState)(t),i=Object(j.a)(o,2);return{ascending:s,setAscending:c,orderBy:i[0],setOrderBy:i[1]}},He=function(e){var t=Object(n.useState)(0),a=Object(j.a)(t,2),r=a[0],s=a[1],c=Object(n.useState)(e),o=Object(j.a)(c,2);return{page:r,setPage:s,rowsPerPage:o[0],setRowsPerPage:o[1]}},qe=a(167),ze=function(e){var t=e.message;return r.a.createElement(U,{severity:"info",message:t})},We=Object(p.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),_e=function(e){var t=e.isLoading,a=We();return t?r.a.createElement("div",{className:a.root},r.a.createElement(qe.a,null),r.a.createElement(ze,{message:"Loading..."})):null},Je=[new Z("IP",!0,"left","IP",!1),new Z("MAC",!0,"left","MAC",!1),new Z("user",!0,"left","User",!1),new Z("download",!1,"right","Down",!0,Me),new Z("upload",!1,"right","Up",!0,Me),new Z("total",!0,"right","Total",!0,Me),new Z("percent",!1,"right","Percent",!1,Se),new Z("average",!1,"right","Average",!0,Me),new Z("days",!1,"left","Days",!0),new Z("firstSeen",!1,"left","First Seen",!1,je),new Z("lastSeen",!1,"left","Last Seen",!1,je)],$e=function(){var e=Re(),t=e.years,a=e.year,s=e.setYear,c=e.months,o=e.month,i=e.setMonth,u=e.filter,l=e.setFilter,m=e.data,f=e.loading,p=He(12),d=p.page,h=p.setPage,g=p.rowsPerPage,b=p.setRowsPerPage,v=Ge(!0,Je[0].id),y=v.ascending,E=v.setAscending,w=v.orderBy,O=v.setOrderBy,j=function(e,t){return h(t)},x=function(e){b(Number(e.target.value)),h(0)},M=function(e){return s(e.target.value)},S=function(e){return i(e.target.value)},k=function(e){return l(e.target.value)},P=function(e,t){E(w===t&&!y),O(t)};Object(n.useEffect)((function(){h(0)}),[a,o,u,h]);return r.a.createElement(K.a,null,r.a.createElement(_e,{isLoading:f}),r.a.createElement(Q.a,null,m?r.a.createElement(W.a,{stickyHeader:!0,size:"small"},r.a.createElement(_.a,null,r.a.createElement(J.a,null,r.a.createElement($.a,null,r.a.createElement(ne,{id:"user-year",onChange:M,items:t,value:a})),r.a.createElement($.a,null,r.a.createElement(ne,{id:"user-month",onChange:S,items:c,value:o})),r.a.createElement($.a,{colSpan:2},r.a.createElement(Oe,{id:"user-filter",onChange:k})),r.a.createElement(be,{colSpan:Je.length-4,count:m.usage.length,minimum:12,rowsPerPage:g,page:d,onChangePage:j,onChangeRowsPerPage:x}))),r.a.createElement(oe,{prefix:"user",cellInfos:Je,onRequestSort:P,ascending:y,orderBy:w}),r.a.createElement(X,{prefix:"user",cellInfos:Je,values:Be(m.usage,Pe(y,w)).slice(d*g,d*g+g)}),r.a.createElement(re,{prefix:"user",cellInfos:Je,values:m.total})):null))},Ke=a(170),Qe=a(39),Ve=a.n(Qe),Xe=function(){var e=Re(),t=e.years,a=e.year,r=e.setYear,s=e.months,c=e.month,o=e.setMonth,i=e.filter,u=e.setFilter,l=e.data,m=e.loading,f=Object(n.useState)({}),p=Object(j.a)(f,2),d=p[0],h=p[1],g=Object(n.useState)([]),b=Object(j.a)(g,2),v=b[0],y=b[1];return Object(n.useEffect)((function(){l&&(h({chart:{id:"usage-by-user",toolbar:{show:!1}},xaxis:{categories:l.usage.map((function(e){return e.IP}))}}),y([{name:"Total Usage",data:l.usage.map((function(e){return Number(Me(e.total)).toFixed(1)}))}]))}),[l]),{options:d,series:v,years:t,year:a,setYear:r,months:s,month:c,setMonth:o,filter:i,setFilter:u,loading:m}},Ze=Object(p.a)((function(e){return{root:{flexGrow:1,margin:e.spacing(2)}}})),et=function(){var e=Ze(),t=Xe(),a=t.options,n=t.series,s=t.years,c=t.year,o=t.setYear,i=t.months,u=t.month,l=t.setMonth,m=t.setFilter,f=t.loading,p=function(e){return o(e.target.value)},d=function(e){return l(e.target.value)},h=function(e){return m(e.target.value)};return r.a.createElement(K.a,null,r.a.createElement(_e,{isLoading:f}),r.a.createElement("div",{className:e.root},r.a.createElement(Ke.a,{container:!0},r.a.createElement(Ke.a,{item:!0,sm:2},r.a.createElement(ne,{id:"user-year",onChange:p,items:s,value:c})),r.a.createElement(Ke.a,{item:!0,sm:2},r.a.createElement(ne,{id:"user-month",onChange:d,items:i,value:u})),r.a.createElement(Ke.a,{item:!0,sm:4},r.a.createElement(Oe,{id:"user-filter",onChange:h})),r.a.createElement(Ke.a,{item:!0,sm:4}))),r.a.createElement(Ve.a,{options:a,series:n,type:"bar",height:500}))},tt=function(){var e=Ae(),t=e.years,a=e.year,r=e.setYear,s=Object(n.useState)(),c=Object(j.a)(s,2),o=c[0],i=c[1],u=Object(n.useState)(!0),l=Object(j.a)(u,2),m=l[0],f=l[1];return Object(n.useEffect)((function(){function e(){return(e=Object(Ce.a)(Ue.a.mark((function e(){var t;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe.getUsageByMonth(a);case 2:t=e.sent,i(t),f(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a&&function(){e.apply(this,arguments)}()}),[a]),{years:t,year:a,setYear:r,data:o,loading:m}},at=[new Z("id",!0,"left","Month",!1,xe),new Z("download",!1,"right","Down",!0,Me),new Z("upload",!1,"right","Up",!0,Me),new Z("total",!0,"right","Total",!0,Me),new Z("percent",!1,"right","Percent",!1,Se),new Z("average",!1,"right","Average",!0,Me),new Z("days",!1,"left","Days",!0)],nt=function(){var e=tt(),t=e.years,a=e.year,n=e.setYear,s=e.data,c=e.loading,o=Ge(!1,at[0].id),i=o.ascending,u=o.setAscending,l=o.orderBy,m=o.setOrderBy,f=function(e){return n(e.target.value)},p=function(e,t){u(l===t&&!i),m(t)};return r.a.createElement(K.a,null,r.a.createElement(_e,{isLoading:c}),r.a.createElement(Q.a,null,s?r.a.createElement(W.a,{stickyHeader:!0,size:"small"},r.a.createElement(_.a,null,r.a.createElement(J.a,null,r.a.createElement($.a,{colSpan:at.length},r.a.createElement(ne,{id:"month-year",onChange:f,items:t,value:a})))),r.a.createElement(oe,{prefix:"month",cellInfos:at,onRequestSort:p,ascending:i,orderBy:l}),r.a.createElement(X,{prefix:"month",cellInfos:at,values:Be(s.usage,Pe(i,l))}),r.a.createElement(re,{prefix:"month",cellInfos:at,values:s.total})):null))},rt=a(165),st=function(){var e=tt(),t=e.years,a=e.year,r=e.setYear,s=e.data,c=e.loading,o=Object(n.useState)({}),i=Object(j.a)(o,2),u=i[0],l=i[1],m=Object(n.useState)([]),f=Object(j.a)(m,2),p=f[0],d=f[1];return Object(n.useEffect)((function(){s&&(l({chart:{id:"usage-by-month",toolbar:{show:!1}},xaxis:{categories:s.usage.map((function(e){return xe(e.id)})).reverse()}}),d([{name:"Total Usage",data:s.usage.map((function(e){return Math.round(Me(e.total))})).reverse()}]))}),[s]),{options:u,series:p,years:t,year:a,setYear:r,loading:c}},ct=function(){var e=st(),t=e.options,a=e.series,n=e.years,s=e.year,c=e.setYear,o=e.loading;return r.a.createElement(K.a,null,r.a.createElement(_e,{isLoading:o}),r.a.createElement(rt.a,null,r.a.createElement(ne,{id:"month-year-graph",onChange:function(e){return c(e.target.value)},items:n,value:s})),r.a.createElement(Ve.a,{options:t,series:a,type:"bar",height:500}))},ot=function(){var e=Object(n.useState)(),t=Object(j.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(!0),c=Object(j.a)(s,2),o=c[0],i=c[1];return Object(n.useEffect)((function(){function e(){return(e=Object(Ce.a)(Ue.a.mark((function e(){var t;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe.getUsageByYear();case 2:t=e.sent,r(t),i(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),{data:a,loading:o}},it=[new Z("id",!0,"left","Year",!1),new Z("download",!1,"right","Down",!0,Me),new Z("upload",!1,"right","Up",!0,Me),new Z("total",!0,"right","Total",!0,Me),new Z("average",!1,"right","Average",!0,Me),new Z("days",!1,"left","Days",!0)],ut=function(){var e=ot(),t=e.data,a=e.loading,n=He(12),s=n.page,c=n.setPage,o=n.rowsPerPage,i=n.setRowsPerPage,u=Ge(!1,it[0].id),l=u.ascending,m=u.setAscending,f=u.orderBy,p=u.setOrderBy,d=function(e,t){return c(t)},h=function(e){i(Number(e.target.value)),c(0)},g=function(e,t){m(f===t&&!l),p(t)};return r.a.createElement(K.a,null,r.a.createElement(_e,{isLoading:a}),r.a.createElement(Q.a,null,t?r.a.createElement(W.a,{stickyHeader:!0,size:"small"},r.a.createElement(_.a,null,r.a.createElement(J.a,null,r.a.createElement(be,{colSpan:it.length,count:t.length,minimum:12,rowsPerPage:o,page:s,onChangePage:d,onChangeRowsPerPage:h}))),r.a.createElement(oe,{prefix:"year",cellInfos:it,onRequestSort:g,ascending:l,orderBy:f}),r.a.createElement(X,{prefix:"year",cellInfos:it,values:Be(t,Pe(l,f)).slice(s*o,s*o+o)})):null))},lt=function(){var e=ot(),t=e.data,a=e.loading,r=Object(n.useState)({}),s=Object(j.a)(r,2),c=s[0],o=s[1],i=Object(n.useState)([]),u=Object(j.a)(i,2),l=u[0],m=u[1];return Object(n.useEffect)((function(){t&&(o({chart:{id:"usage-by-year",toolbar:{show:!1}},xaxis:{categories:t.map((function(e){return e.id})).reverse()}}),m([{name:"Total Usage",data:t.map((function(e){return Math.round(Me(e.total))})).reverse()}]))}),[t]),{options:c,series:l,loading:a}},mt=function(){var e=lt(),t=e.options,a=e.series,n=e.loading;return r.a.createElement(K.a,null,r.a.createElement(_e,{isLoading:n}),r.a.createElement(Ve.a,{options:t,series:a,type:"bar",height:500}))},ft=function e(t,a,n,r,s){Object(N.a)(this,e),this.id=t,this.component=a,this.pathname=n,this.label=r,this.icon=s},pt=[new ft("usage-by-user",$e,"/UsageByUser","By User",r.a.createElement(R.a,null)),new ft("usage-by-user-graph",et,"/UsageByUserGraph","By User Graph",r.a.createElement(G.a,null)),new ft("usage-by-month",nt,"/UsageByMonth","By Month",r.a.createElement(H.a,null)),new ft("usage-by-month-graph",ct,"/UsageByMonthGraph","By Month Graph",r.a.createElement(q.a,null)),new ft("usage-by-year",ut,"/UsageByYear","By Year",r.a.createElement(z.a,null)),new ft("usage-by-year-graph",mt,"/UsageByYearGraph","By Year Graph",r.a.createElement(q.a,null))],dt=a(78),ht=(Object(dt.a)({basename:"/bwmon"}),function(e){var t=e.currentTime;return r.a.createElement(o.a,{basename:"/bwmon"},r.a.createElement(m.a,{theme:l},r.a.createElement(f.a,null),r.a.createElement(v,null),r.a.createElement(k,{menu:pt}),r.a.createElement(L,null,r.a.createElement(T,{menu:pt}),r.a.createElement(E,{currentTime:t}))))});ht.defaultProps={currentTime:i.DateTime.local().toLocaleString(i.DateTime.DATETIME_FULL_WITH_SECONDS)};var gt=ht;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var bt=document.getElementById("root");c.a.render(r.a.createElement(gt,null),bt),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},96:function(e,t,a){e.exports=a(110)}},[[96,1,2]]]);
//# sourceMappingURL=main.58bf7cca.chunk.js.map