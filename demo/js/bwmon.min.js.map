{"version":3,"sources":["bwmon.min.js"],"names":["angular","module","config","$routeProvider","otherwise","redirectTo","controller","$scope","$interval","rootController","this","updateClock","clock","Date","clockOn","currentDate","version","window","VERSION","$on","e","cancel","run","$templateCache","put","directive","restrict","replace","require","template","scope","bindToController","chartType","chartService","extend","chartTypes","getChartTypes","controllerAs","filter","input","start","slice","month","moment","format","time","value","Math","round","year","dataService","ctrl","updateMonth","months","getMonths","$watch","years","getYears","join","$location","isActive","viewLocation","path","routes","href","name","factory","_getChartTypes","getChartOptions","labelFn","tooltipFn","margin","top","right","bottom","left","series","axis","dataset","key","color","label","grid","x","y","type","id","axes","tickFormat","min","tooltipHook","d","rows","map","s","row","y1","getChartData","data","result","_","entry","total","sort","a","b","dataset00","_data","bwmonData","_sort","IP","_sum","entries","days","download","upload","forEach","average","toFixed","_getMonths","where","uniq","item","pluck","_getYears","_getUsageByYear","dayOfYear","usage","_getUsageByUser","daysInMonth","filterLowerCase","toLowerCase","indexOf","MAC","user","each","index","percent","getUsageByUser","getUsageByMonth","_getUsageByMonth","getUsageByYear","when","templateUrl","reset","predicate","descending","setOrder","getOrder","desc","asc","getLabel","usageData","selected","chartData","chartOptions","findUserData","find","getTooltip","pageSize"],"mappings":"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","file":"bwmon.min.js","sourcesContent":["/*\n *    Copyright (C) 2010 - 2018 VREM Software Development <VREMSoftwareDevelopment@gmail.com>\n *\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\n *    you may not use this file except in compliance with the License.\n *    You may obtain a copy of the License at\n *\n *        http://www.apache.org/licenses/LICENSE-2.0\n *\n *    Unless required by applicable law or agreed to in writing, software\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *    See the License for the specific language governing permissions and\n *    limitations under the License.\n */\nangular.module('BWMonApp', [\n\t'ngRoute',\n\t'ui.bootstrap',\n\t'angularUtils.directives.dirPagination',\n\t'n3-line-chart',\n\t'BWMonApp.Filters',\n\t'BWMonApp.Navigation',\n\t'BWMonApp.UsageByUser',\n\t'BWMonApp.UsageByMonth',\n\t'BWMonApp.UsageByYear',\n\t'BWMonApp.SelectYear',\n\t'BWMonApp.SelectMonth',\n\t'BWMonApp.ChartType',\n\t'BWMonApp.ChartService',\n\t'BWMonApp.DataService'\n])\n.config(function($routeProvider) {\n\t$routeProvider.otherwise({redirectTo: '/UsageByUser'});\n})\n.controller('rootController', function($scope, $interval) {\n\tvar rootController = this,\n\t\tupdateClock = function() {\n\t\t\trootController.clock = new Date();\n\t\t},\n\t\tclockOn = $interval(updateClock, 1000);\n\n\tupdateClock();\n\n\trootController.currentDate = rootController.clock;\n\trootController.version = window.VERSION || 'SNAPSHOT';\n\n\t$scope.$on('$destroy', function(e) {\n\t\t$interval.cancel(clockOn);\n\t});\n});\n;angular.module('BWMonApp').run(['$templateCache', function($templateCache) {$templateCache.put('index.tpl.html','<!doctype html>\\n<html lang=\"en\" ng-app=\"BWMonApp\" ng-controller=\"rootController as rootCtrl\">\\n<head>\\n\\t<meta charset=\"utf-8\">\\n\\t<meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\\n\\t<title>Bandwidth Monitor Usage</title>\\n<!-- @ifdef PRODUCTION -->\\n\\t<link rel=\"stylesheet\" href=\"css/bootstrap.min.css\">\\n\\t<link rel=\"stylesheet\" href=\"css/bwmon.min.css\">\\n\\t<link rel=\"stylesheet\" href=\"css/LineChart.min.css\">\\t\\n<!-- @endif -->\\n<!-- @ifdef DEVELOPMENT -->\\n\\t<link rel=\"stylesheet\" href=\"../node_modules/bootstrap/dist/css/bootstrap.min.css\">\\n\\t<link rel=\"stylesheet\" href=\"../node_modules/n3-charts/build/LineChart.min.css\">\\t\\n\\t<link rel=\"stylesheet\" href=\"css/app.css\">\\n<!-- @endif -->\\n</head>\\n<body class=\"container\">\\n\\t<h2>\\n\\t\\t<span class=\"pull-left\">Bandwidth Monitor Usage</span>\\n\\t\\t<small class=\"pull-right\">{{rootCtrl.clock  | date: \\'medium\\'}}</small>\\n\\t\\t<span class=\"clearfix\"></span>\\n\\t</h2>\\n\\t<navigation></navigation>\\n\\t<div class=\"ng-view-min-height\">\\n\\t\\t<div ng-view></div>\\n\\t</div>\\n\\t<h5>\\n\\t\\t<b>All usage information is in gigabytes</b>\\n\\t</h5>\\n\\t<h5>\\n\\t\\t<span class=\"pull-left\">This page was generated on {{::rootCtrl.currentDate | date: \\'medium\\'}}</span>\\n\\t\\t<span class=\"pull-right\">Version {{::rootCtrl.version}}</span>\\n\\t\\t<span class=\"clearfix\"></span>\\n\\t</h5>\\n\\t<script src=\"bwmonUsage.js\"></script>\\n<!-- @ifdef PRODUCTION -->\\n\\t<script src=\"js/libs.min.js\"></script>\\n\\t<script src=\"js/bwmon.min.js\"></script>\\n<!-- @endif -->\\n<!-- @ifdef DEVELOPMENT -->\\n\\t<script src=\"../node_modules/angular/angular.min.js\"></script>\\n\\t<script src=\"../node_modules/angular-route/angular-route.min.js\"></script>\\n\\t<script src=\"../node_modules/angular-ui-bootstrap/dist/ui-bootstrap-tpls.js\"></script>\\n\\t<script src=\"../node_modules/angular-utils-pagination/dirPagination.js\"></script>\\n\\t<script src=\"../node_modules/underscore/underscore-min.js\"></script>\\n\\t<script src=\"../node_modules/moment/min/moment.min.js\"></script>\\n\\t<script src=\"../node_modules/d3/d3.min.js\"></script>\\n\\t<script src=\"../node_modules/n3-charts/build/LineChart.js\"></script>\\n\\t<script src=\"app.js\"></script>\\n\\t<script src=\"navigation/navigation.js\"></script>\\n\\t<script src=\"services/dataService.js\"></script>\\n\\t<script src=\"services/chartService.js\"></script>\\n\\t<script src=\"usagebyuser/usageByUser.js\"></script>\\n\\t<script src=\"usagebymonth/usageByMonth.js\"></script>\\n\\t<script src=\"usagebyyear/usageByYear.js\"></script>\\n\\t<script src=\"common/filters.js\"></script>\\n\\t<script src=\"common/selectYear.js\"></script>\\n\\t<script src=\"common/selectMonth.js\"></script>\\n\\t<script src=\"common/chartType.js\"></script>\\n<!-- @endif -->\\n</body>\\n</html>\\n');\n$templateCache.put('usagebymonth/usageByMonth.tpl.html','<uib-tabset justified=\"true\">\\n\\t<uib-tab id=\"Data\" heading=\"Data\">\\n\\t\\t<form class=\"form-inline\">\\n\\t\\t\\t<div class=\"form-group\">\\n\\t\\t\\t\\t<select-year ng-model=\"usageByMonthCtrl.selected.year\" class=\"form-control\" name=\"year\">\\n\\t\\t\\t</div>\\n\\t\\t</form>\\n\\t\\t<div class=\"table-responsive\">\\n\\t\\t\\t<table class=\"table table-striped table-hover table-condensed\">\\n\\t\\t\\t\\t<thead>\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<th>\\n\\t\\t\\t\\t\\t\\t\\t<a class=\"nounderline\" id=\"monthSort\" href=\"\" ng-click=\"usageByMonthCtrl.setOrder(\\'id\\')\">Month</a>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"sortorder\" ng-class=\"usageByMonthCtrl.getOrder(\\'id\\')\"></span>\\n\\t\\t\\t\\t\\t\\t</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">Down</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">Up</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">\\n\\t\\t\\t\\t\\t\\t\\t<a class=\"nounderline\" id=\"totalSort\" href=\"\" ng-click=\"usageByMonthCtrl.setOrder(\\'total\\')\">Total</a>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"sortorder\" ng-class=\"usageByMonthCtrl.getOrder(\\'total\\')\"></span>\\n\\t\\t\\t\\t\\t\\t</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">Percent</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">Average</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">Days</th>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t</thead>\\n\\t\\t\\t\\t<tbody>\\n\\t\\t\\t\\t\\t<tr ng-repeat=\"current in usageByMonthCtrl.data | orderBy:usageByMonthCtrl.predicate:usageByMonthCtrl.descending\">\\n\\t\\t\\t\\t\\t\\t<td>{{::current.id | toMonth}}</td>\\n\\t\\t\\t\\t\\t\\t<td class=\"text-right\">{{::current.download | usageInGBytes | number:3}}</td>\\n\\t\\t\\t\\t\\t\\t<td class=\"text-right\">{{::current.upload | usageInGBytes | number:3}}</td>\\n\\t\\t\\t\\t\\t\\t<td class=\"text-right\">{{::current.total | usageInGBytes | number:3}}</td>\\n\\t\\t\\t\\t\\t\\t<td class=\"text-right\">{{::current.percent | number:1}}%</td>\\n\\t\\t\\t\\t\\t\\t<td class=\"text-right\">{{::current.average | usageInGBytes | number:3}}</td>\\n\\t\\t\\t\\t\\t\\t<td class=\"text-right\">{{::current.days}}</td>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t</tbody>\\n\\t\\t\\t\\t<tfoot>\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<th>{{usageByMonthCtrl.selected.year}} Totals</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">{{usageByMonthCtrl.total.download | usageInGBytes | number:3}}</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">{{usageByMonthCtrl.total.upload | usageInGBytes | number:3}}</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">{{usageByMonthCtrl.total.total | usageInGBytes | number:3}}</th>\\n\\t\\t\\t\\t\\t\\t<th></th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">{{usageByMonthCtrl.total.average | usageInGBytes | number:3}}</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">{{usageByMonthCtrl.total.days}}</th>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t</tfoot>\\n\\t\\t\\t</table>\\n\\t\\t</div>\\n\\t</uib-tab>\\n\\t<uib-tab id=\"Chart\" heading=\"Chart\">\\n\\t\\t<form class=\"form-inline\">\\n\\t\\t\\t<div class=\"form-group\">\\n\\t\\t\\t\\t<select-year ng-model=\"usageByMonthCtrl.selected.year\" class=\"form-control\" name=\"year\">\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\"form-group\">\\n\\t\\t\\t\\t<chart-type ng-model=\"usageByMonthCtrl.selected.chartType\" class=\"form-control\" name=\"chartType\">\\n\\t\\t\\t</div>\\n\\t\\t</form>\\n\\t\\t<div class=\"chart-data\">\\n\\t\\t\\t<linechart id=\"chartData\" data=\"usageByMonthCtrl.chartData\" options=\"usageByMonthCtrl.chartOptions\"></linechart>\\n\\t\\t</div>\\n\\t</uib-tab>\\n</uib-tabset>\\n');\n$templateCache.put('usagebyuser/usageByUser.tpl.html','<uib-tabset justified=\"true\">\\n\\t<uib-tab id=\"Data\" heading=\"Data\">\\n\\t\\t<form class=\"form-inline\">\\n\\t\\t\\t<div class=\"form-group\">\\n\\t\\t\\t\\t<select-year ng-model=\"usageByUserCtrl.selected.year\" class=\"form-control\" name=\"year\">\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\"form-group\">\\n\\t\\t\\t\\t<select-month ng-model=\"usageByUserCtrl.selected.month\" year=\"usageByUserCtrl.selected.year\" class=\"form-control\" name=\"month\">\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\"form-group\">\\n\\t\\t\\t\\t<input ng-model=\"usageByUserCtrl.selected.user\" class=\"form-control\" name=\"user\" placeholder=\"IP, MAC or User\">\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\"form-group\">\\n\\t\\t\\t\\t<dir-pagination-controls max-size=\"5\" boundary-links=\"true\"></dir-pagination-controls>\\n\\t\\t\\t</div>\\n\\t\\t</form>\\n\\t\\t<div class=\"table-responsive\">\\n\\t\\t\\t<table class=\"table table-striped table-hover table-condensed\">\\n\\t\\t\\t\\t<thead>\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<th>\\n\\t\\t\\t\\t\\t\\t</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-left\">\\n\\t\\t\\t\\t\\t\\t\\t<a class=\"nounderline\" id=\"IPSort\" href=\"\" ng-click=\"usageByUserCtrl.setOrder(\\'IP\\')\">IP</a>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"sortorder\" ng-class=\"usageByUserCtrl.getOrder(\\'IP\\')\"></span>\\n\\t\\t\\t\\t\\t\\t</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-left\">\\n\\t\\t\\t\\t\\t\\t\\t<a class=\"nounderline\" id=\"MACSort\" href=\"\" ng-click=\"usageByUserCtrl.setOrder(\\'MAC\\')\">MAC</a>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"sortorder\" ng-class=\"usageByUserCtrl.getOrder(\\'MAC\\')\"></span>\\n\\t\\t\\t\\t\\t\\t</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-left\">\\n\\t\\t\\t\\t\\t\\t\\t<a class=\"nounderline\" id=\"userSort\" href=\"\" ng-click=\"usageByUserCtrl.setOrder(\\'user\\')\">User</a>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"sortorder\" ng-class=\"usageByUserCtrl.getOrder(\\'user\\')\"></span>\\n\\t\\t\\t\\t\\t\\t</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">Down</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">Up</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">\\n\\t\\t\\t\\t\\t\\t\\t<a class=\"nounderline\" id=\"totalSort\" href=\"\" ng-click=\"usageByUserCtrl.setOrder(\\'total\\')\">Total</a>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"sortorder\" ng-class=\"usageByUserCtrl.getOrder(\\'total\\')\"></span>\\n\\t\\t\\t\\t\\t\\t</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">Percent</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">Average</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">Days</th>\\n\\t\\t\\t\\t\\t\\t<th>First Seen</th>\\n\\t\\t\\t\\t\\t\\t<th>Last Seen</th>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t</thead>\\n\\t\\t\\t\\t<tbody>\\n\\t\\t\\t\\t\\t<tr dir-paginate=\"current in usageByUserCtrl.data | orderBy:usageByUserCtrl.predicate:usageByUserCtrl.descending | itemsPerPage:usageByUserCtrl.pageSize\">\\n\\t\\t\\t\\t\\t\\t<td>{{$index+1}}</td>\\n\\t\\t\\t\\t\\t\\t<td>{{::current.IP}}</td>\\n\\t\\t\\t\\t\\t\\t<td>{{::current.MAC}}</td>\\n\\t\\t\\t\\t\\t\\t<td>{{::current.user}}</td>\\n\\t\\t\\t\\t\\t\\t<td class=\"text-right\">{{::current.download | usageInGBytes | number:3}}</td>\\n\\t\\t\\t\\t\\t\\t<td class=\"text-right\">{{::current.upload | usageInGBytes | number:3}}</td>\\n\\t\\t\\t\\t\\t\\t<td class=\"text-right\">{{::current.total | usageInGBytes | number:3}}</td>\\n\\t\\t\\t\\t\\t\\t<td class=\"text-right\">{{::current.percent | number:1}}%</td>\\n\\t\\t\\t\\t\\t\\t<td class=\"text-right\">{{::current.average | usageInGBytes | number:3}}</td>\\n\\t\\t\\t\\t\\t\\t<td class=\"text-right\">{{::current.days}}</td>\\n\\t\\t\\t\\t\\t\\t<td>{{::current.firstSeen | timeToDate | date: \\'medium\\'}}</td>\\n\\t\\t\\t\\t\\t\\t<td>{{::current.lastSeen | timeToDate | date: \\'medium\\'}}</td>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t</tbody>\\n\\t\\t\\t\\t<tfoot>\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<th colspan=\"4\">{{usageByUserCtrl.selected.month}} {{usageByUserCtrl.selected.year}} Totals</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">{{usageByUserCtrl.total.download | usageInGBytes | number:3}}</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">{{usageByUserCtrl.total.upload | usageInGBytes | number:3}}</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">{{usageByUserCtrl.total.total | usageInGBytes | number:3}}</th>\\n\\t\\t\\t\\t\\t\\t<th></th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">{{usageByUserCtrl.total.average | usageInGBytes | number:3}}</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">{{usageByUserCtrl.total.days}}</th>\\n\\t\\t\\t\\t\\t\\t<th></th>\\n\\t\\t\\t\\t\\t\\t<th></th>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t</tfoot>\\n\\t\\t\\t</table>\\n\\t\\t</div>\\n\\t</uib-tab>\\n\\t<uib-tab id=\"Chart\" heading=\"Chart\">\\n\\t\\t<form class=\"form-inline\">\\n\\t\\t\\t<div class=\"form-group\">\\n\\t\\t\\t\\t<select-year ng-model=\"usageByUserCtrl.selected.year\" class=\"form-control\" name=\"year\">\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\"form-group\">\\n\\t\\t\\t\\t<select-month ng-model=\"usageByUserCtrl.selected.month\" year=\"usageByUserCtrl.selected.year\" class=\"form-control\" name=\"month\">\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\"form-group\">\\n\\t\\t\\t\\t<input ng-model=\"usageByUserCtrl.selected.user\" class=\"form-control\" name=\"user\" placeholder=\"IP, MAC or User\">\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\"form-group\">\\n\\t\\t\\t\\t<chart-type ng-model=\"usageByUserCtrl.selected.chartType\" class=\"form-control\" name=\"chartType\">\\n\\t\\t\\t</div>\\n\\t\\t</form>\\n\\t\\t<div class=\"chart-data\">\\n\\t\\t\\t<linechart id=\"chartData\" data=\"usageByUserCtrl.chartData\" options=\"usageByUserCtrl.chartOptions\"></linechart>\\n\\t\\t</div>\\n\\t</uib-tab>\\n</uib-tabset>\\n');\n$templateCache.put('usagebyyear/usageByYear.tpl.html','<uib-tabset justified=\"true\">\\n\\t<uib-tab id=\"Data\" heading=\"Data\">\\n\\t\\t<div class=\"table-responsive\">\\n\\t\\t\\t<table class=\"table table-striped table-hover table-condensed\">\\n\\t\\t\\t\\t<thead>\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<th>\\n\\t\\t\\t\\t\\t\\t\\t<a class=\"nounderline\" id=\"yearSort\" href=\"\" ng-click=\"usageByYearCtrl.setOrder(\\'id\\')\">Year</a>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"sortorder\" ng-class=\"usageByYearCtrl.getOrder(\\'id\\')\"></span>\\n\\t\\t\\t\\t\\t\\t</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">Down</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">Up</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">\\n\\t\\t\\t\\t\\t\\t\\t<a class=\"nounderline\" id=\"totalSort\" href=\"\" ng-click=\"usageByYearCtrl.setOrder(\\'total\\')\">Total</a>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"sortorder\" ng-class=\"usageByYearCtrl.getOrder(\\'total\\')\"></span>\\n\\t\\t\\t\\t\\t\\t</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">Average</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">Days</th>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t</thead>\\n\\t\\t\\t\\t<tbody>\\n\\t\\t\\t\\t\\t<tr ng-repeat=\"current in usageByYearCtrl.data | orderBy:usageByYearCtrl.predicate:usageByYearCtrl.descending\">\\n\\t\\t\\t\\t\\t\\t<td>{{current.id}}</td>\\n\\t\\t\\t\\t\\t\\t<td class=\"text-right\">{{::current.download | usageInGBytes | number:3}}</td>\\n\\t\\t\\t\\t\\t\\t<td class=\"text-right\">{{::current.upload | usageInGBytes | number:3}}</td>\\n\\t\\t\\t\\t\\t\\t<td class=\"text-right\">{{::current.total | usageInGBytes | number:3}}</td>\\n\\t\\t\\t\\t\\t\\t<td class=\"text-right\">{{::current.average | usageInGBytes | number:3}}</td>\\n\\t\\t\\t\\t\\t\\t<td class=\"text-right\">{{::current.days}}</td>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t</tbody>\\n\\t\\t\\t</table>\\n\\t\\t</div>\\n\\t</uib-tab>\\n\\t<uib-tab id=\"Chart\" heading=\"Chart\">\\n\\t\\t<form class=\"form-inline\">\\n\\t\\t\\t<div class=\"form-group\">\\n\\t\\t\\t\\t<chart-type ng-model=\"usageByYearCtrl.selected.chartType\" class=\"form-control\" name=\"chartType\">\\n\\t\\t\\t</div>\\n\\t\\t</form>\\n\\t\\t<div class=\"chart-data\">\\n\\t\\t\\t<linechart id=\"chartData\" data=\"usageByYearCtrl.chartData\" options=\"usageByYearCtrl.chartOptions\"></linechart>\\n\\t\\t</div>\\n\\t</uib-tab>\\n</uib-tabset>\\n');}]);;/*\n *    Copyright (C) 2010 - 2018 VREM Software Development <VREMSoftwareDevelopment@gmail.com>\n *\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\n *    you may not use this file except in compliance with the License.\n *    You may obtain a copy of the License at\n *\n *        http://www.apache.org/licenses/LICENSE-2.0\n *\n *    Unless required by applicable law or agreed to in writing, software\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *    See the License for the specific language governing permissions and\n *    limitations under the License.\n */\nangular.module('BWMonApp.ChartType', [])\n.directive('chartType', function() {\n\treturn {\n\t\trestrict: 'E',\n\t\treplace: true,\n\t\trequire: 'ngModel',\n\t\ttemplate: '<select ng-options=\"choiceChartType for choiceChartType in ::chartTypeCtrl.chartTypes\"></select>',\n\t\tscope: {},\n\t\tbindToController: {\n\t\t\tchartType: '=ngModel'\n\t\t},\n\t\tcontroller: function(chartService) {\n\t\t\tangular.extend(this, {\n\t\t\t\tchartTypes: chartService.getChartTypes()\n\t\t\t});\n\t\t},\n\t\tcontrollerAs: 'chartTypeCtrl'\n\t};\n});\n;/*\n *    Copyright (C) 2010 - 2018 VREM Software Development <VREMSoftwareDevelopment@gmail.com>\n *\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\n *    you may not use this file except in compliance with the License.\n *    You may obtain a copy of the License at\n *\n *        http://www.apache.org/licenses/LICENSE-2.0\n *\n *    Unless required by applicable law or agreed to in writing, software\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *    See the License for the specific language governing permissions and\n *    limitations under the License.\n */\nangular.module('BWMonApp.Filters', [])\n.filter('startFrom', function() {\n\treturn function(input, start) {\n\t\treturn input.slice(start);\n\t};\n})\n.filter('toMonth', function() {\n\treturn function(month) {\n\t\treturn moment([2012, month]).format(\"MMMM\");\n\t};\n})\n.filter('timeToDate', function() {\n\treturn function(time) {\n\t\treturn new Date(time*1000);\n\t};\n})\n.filter('usageInGBytes', function() {\n\treturn function(value) {\n\t\treturn Math.round(value/1000)/1000;\n\t};\n});\n;/*\n *    Copyright (C) 2010 - 2018 VREM Software Development <VREMSoftwareDevelopment@gmail.com>\n *\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\n *    you may not use this file except in compliance with the License.\n *    You may obtain a copy of the License at\n *\n *        http://www.apache.org/licenses/LICENSE-2.0\n *\n *    Unless required by applicable law or agreed to in writing, software\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *    See the License for the specific language governing permissions and\n *    limitations under the License.\n */\nangular.module('BWMonApp.SelectMonth', [])\n.directive('selectMonth', function() {\n\treturn {\n\t\trestrict: 'E',\n\t\treplace: true,\n\t\trequire: ['ngModel', 'year'],\n\t\ttemplate: '<select ng-options=\"choiceMonth for choiceMonth in selectMonthCtrl.months\"></select>',\n\t\tscope: {},\n\t\tbindToController: {\n\t\t\tmonth: '=ngModel',\n\t\t\tyear: '=year'\n\t\t},\n\t\tcontroller: function($scope, dataService) {\n\t\t\tvar ctrl = this;\n\t\t\tvar updateMonth = function() {\n\t\t\t\tvar months = dataService.getMonths(ctrl.year);\n\t\t\t\tctrl.months = months;\n\t\t\t\tctrl.month = months[0];\n\t\t\t};\n\n\t\t\tupdateMonth();\n\t\t\t$scope.$watch('selectMonthCtrl.year', function() {\n\t\t\t\tupdateMonth();\n\t\t\t}, true);\n\t\t},\n\t\tcontrollerAs: 'selectMonthCtrl'\n\t};\n});\n\n;/*\n *    Copyright (C) 2010 - 2018 VREM Software Development <VREMSoftwareDevelopment@gmail.com>\n *\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\n *    you may not use this file except in compliance with the License.\n *    You may obtain a copy of the License at\n *\n *        http://www.apache.org/licenses/LICENSE-2.0\n *\n *    Unless required by applicable law or agreed to in writing, software\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *    See the License for the specific language governing permissions and\n *    limitations under the License.\n */\nangular.module('BWMonApp.SelectYear', [])\n.directive('selectYear', function() {\n\treturn {\n\t\trestrict: 'E',\n\t\treplace: true,\n\t\trequire: 'ngModel',\n\t\ttemplate: '<select ng-options=\"choiceYear for choiceYear in ::selectYearCtrl.years\"></select>',\n\t\tscope: {},\n\t\tbindToController: {\n\t\t\tyear: '=ngModel'\n\t\t},\n\t\tcontroller: function(dataService) {\n\t\t\tangular.extend(this, {\n\t\t\t\tyears: dataService.getYears()\n\t\t\t});\n\t\t},\n\t\tcontrollerAs: 'selectYearCtrl'\n\t};\n});\n;/*\n *    Copyright (C) 2010 - 2018 VREM Software Development <VREMSoftwareDevelopment@gmail.com>\n *\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\n *    you may not use this file except in compliance with the License.\n *    You may obtain a copy of the License at\n *\n *        http://www.apache.org/licenses/LICENSE-2.0\n *\n *    Unless required by applicable law or agreed to in writing, software\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *    See the License for the specific language governing permissions and\n *    limitations under the License.\n */\nangular.module('BWMonApp.Navigation', [])\n.directive('navigation', function() {\n\treturn {\n\t\trestrict: 'E',\n\t\treplace: true,\n\t\ttemplate: [\n\t\t\t\t'<div class=\"navbar navbar-default\">',\n\t\t\t\t\t'<ul class=\"nav navbar-nav\">',\n\t\t\t\t\t\t'<li ng-repeat=\"route in ::navigationCtrl.routes\" ng-class=\"{active: navigationCtrl.isActive(\\'{{::route.href}}\\')}\" >',\n\t\t\t\t\t\t\t'<a href=\"#!{{::route.href}}\">{{::route.name}}</a>',\n\t\t\t\t\t\t'</li>',\n\t\t\t\t\t'</ul>',\n\t\t\t\t'</div>'\n\t\t\t].join(''),\n\t\tscope: {},\n\t\tcontroller: function($scope, $location) {\n\t\t\tangular.extend(this, {\n\t\t\t\tisActive: function (viewLocation) {\n\t\t\t\t\treturn viewLocation === $location.path();\n\t\t\t\t},\n\t\t\t\troutes: [{\n\t\t\t\t\thref: 'UsageByUser',\n\t\t\t\t\tname: 'Usage By User'\n\t\t\t\t}, {\n\t\t\t\t\thref: 'UsageByMonth',\n\t\t\t\t\tname: 'Usage By Month'\n\t\t\t\t}, {\n\t\t\t\t\thref: 'UsageByYear',\n\t\t\t\t\tname: 'Usage By Year'\n\t\t\t\t}]\n\t\t\t});\n\t\t},\n\t\tcontrollerAs: 'navigationCtrl'\n\t};\n});\n;/*\n *    Copyright (C) 2010 - 2018 VREM Software Development <VREMSoftwareDevelopment@gmail.com>\n *\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\n *    you may not use this file except in compliance with the License.\n *    You may obtain a copy of the License at\n *\n *        http://www.apache.org/licenses/LICENSE-2.0\n *\n *    Unless required by applicable law or agreed to in writing, software\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *    See the License for the specific language governing permissions and\n *    limitations under the License.\n */\nangular.module('BWMonApp.ChartService', [])\n.factory('chartService', function() {\n\tvar _getChartTypes = function() {\n\t\t\treturn [\n\t\t\t\t'column', \n\t\t\t\t'line', \n\t\t\t\t'area'\n\t\t\t];\n\t\t},\n\t\t_getChartOptions = function(labelFn, tooltipFn) {\n\t\t\tvar getMargin = function() {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttop: 40,\n\t\t\t\t\t\tright: 40,\n\t\t\t\t\t\tbottom: 40,\n\t\t\t\t\t\tleft: 40\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t\tgetSeries = function() {\n\t\t\t\t\treturn [{\n\t\t\t\t\t\taxis: 'y',\n\t\t\t\t\t\tdataset: 'dataset00',\n\t\t\t\t\t\tkey: 'y',\n\t\t\t\t\t\tcolor: '#3366CC',\n\t\t\t\t\t\tlabel: 'GBytes',\n\t\t\t\t\t\tgrid: {\n\t\t\t\t\t\t\tx: false, \n\t\t\t\t\t\t\ty: true\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttype: _getChartTypes()[0],\n\t\t\t\t\t\tid: 'series00'\n\t\t\t\t\t}];\n\t\t\t\t},\n\t\t\t\tgetAxes = function() {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tx: { \n\t\t\t\t\t\t\tkey: 'x',\n\t\t\t\t\t\t\ttickFormat: labelFn\n\t\t\t\t\t\t},\n\t\t\t\t\t\ty: { \n\t\t\t\t\t\t\tmin: 0\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t\ttooltipHookFn = function(d) {\n\t\t\t\t\tif (d) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\trows: d.map(function(s) {\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\tlabel: tooltipFn(s.row.x),\n\t\t\t\t\t\t\t\t\tvalue: \" | \" + s.row.y1 + \" GB\", \n\t\t\t\t\t\t\t\t\tcolor: s.series.color,\n\t\t\t\t\t\t\t\t\tid: s.series.id \n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\t\n\t\t\treturn {\n\t\t\t\tmargin: getMargin(),\n\t\t\t\tseries: getSeries(),\n\t\t\t\taxes: getAxes(labelFn),\n\t\t\t\ttooltipHook: tooltipHookFn\n\t\t\t};\n\t\t},\n\t\t_getChartData = function(data) {\n\t\t\tvar round = function(value) {\n\t\t\t\t\treturn Math.round(value/1000)/1000;\n\t\t\t\t},\n\t\t\t\tsort = function(a, b) {\n\t\t\t\t\treturn a.x - b.x;\n\t\t\t\t},\n\t\t\t\ttransform = function(entry, key) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tx: entry.id,\n\t\t\t\t\t\ty: round(entry.total)\n\t\t\t\t\t};\n\t\t\t\t}, \n\t\t\t\tresult = _.map(data, transform);\n\t\t\tresult.sort(sort);\n\t\t\treturn {\n\t\t\t\tdataset00: result\n\t\t\t};\n\t\t};\n\n\treturn {\n\t\tgetChartTypes: _getChartTypes,\n\t\tgetChartOptions: _getChartOptions,\n\t\tgetChartData: _getChartData\n\t};\n});\n;/*\n *    Copyright (C) 2010 - 2018 VREM Software Development <VREMSoftwareDevelopment@gmail.com>\n *\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\n *    you may not use this file except in compliance with the License.\n *    You may obtain a copy of the License at\n *\n *        http://www.apache.org/licenses/LICENSE-2.0\n *\n *    Unless required by applicable law or agreed to in writing, software\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *    See the License for the specific language governing permissions and\n *    limitations under the License.\n */\nangular.module('BWMonApp.DataService', [])\n.factory('dataService', function() {\n\tvar _data = bwmonData(),\n\t\t_sort = function(a, b) {\n\t\t\tvar result = b.year - a.year;\n\t\t\tif (result === 0) {\n\t\t\t\tresult = b.month - a.month;\n\t\t\t\tif (result === 0) {\n\t\t\t\t\tresult = a.IP < b.IP ? -1 : a.IP > b.IP ? 1 : 0;\n\t\t\t\t\tif (result === 0) {\n\t\t\t\t\t\tresult = b.id - a.id;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t\t_sum = function(entries, days, id) {\n\t\t\tvar download = 0,\n\t\t\t\tupload = 0,\n\t\t\t\ttotal = 0;\n\n\t\t\tentries.forEach(function(entry) {\n\t\t\t\tdownload += entry.download;\n\t\t\t\tupload += entry.upload;\n\t\t\t\ttotal += entry.total;\n\t\t\t});\n\n\t\t\treturn {\n\t\t\t\tid: id,\n\t\t\t\tdownload: download,\n\t\t\t\tupload: upload,\n\t\t\t\ttotal: total,\n\t\t\t\taverage: +(total/days).toFixed(3),\n\t\t\t\tdays: days\n\t\t\t};\n\t\t},\n\t\t_getMonths = function(year) {\n\t\t\tvar result = _.where(_data, {year: year});\n\t\t\tresult = _.uniq(result, function(item){\n\t\t\t\treturn item.month;\n\t\t\t});\n\t\t\tresult = _.pluck(result, 'month');\n\t\t\treturn result;\n\t\t},\n\t\t_getYears = function() {\n\t\t\tvar result = _.uniq(_data, function(item){\n\t\t\t\treturn item.year;\n\t\t\t});\n\t\t\tresult = _.pluck(result, 'year');\n\t\t\treturn result;\n\t\t},\n\t\t_getUsageByYear = function(year) {\n\t\t\tvar days = moment([year, 11, 31]).dayOfYear(),\n\t\t\t\tusage = _.where(_data, {year: year});\n\n\t\t\treturn _sum(usage, days, year);\n\t\t},\n\t\t_getUsageByUser = function(year, month, filter) {\n\t\t\tvar usage = _.where(_data, {year: year, month: month}),\n\t\t\t\tdays = moment([year, month]).daysInMonth(),\n\t\t\t\ttotal = _sum(usage, days, month);\n\n\t\t\tif (filter) {\n\t\t\t\tusage = _.filter(usage, function(entry) {\n\t\t\t\t\tvar filterLowerCase = filter.toLowerCase();\n\t\t\t\t\treturn entry.IP.toLowerCase().indexOf(filterLowerCase) !== -1 ||\n\t\t\t\t\t\tentry.MAC.toLowerCase().indexOf(filterLowerCase) !== -1 ||\n\t\t\t\t\t\tentry.user.toLowerCase().indexOf(filterLowerCase) !== -1;\n\t\t\t\t});\n\t\t\t}\n\t\t\t_.each(usage, function(value, index) {\n\t\t\t\tvalue.percent = +(value.total * 100/total.total).toFixed(1);\n\t\t\t});\n\n\t\t\treturn {\n\t\t\t\tusage: usage,\n\t\t\t\ttotal: total\n\t\t\t};\n\t\t},\n\t\t_getUsageByMonth = function(year) {\n\t\t\tvar\tmonths = _getMonths(year),\n\t\t\t\tusage = _.map(months, function(entry) {\n\t\t\t\t\treturn _getUsageByUser(year, entry).total;\n\t\t\t\t}),\n\t\t\t\ttotal = _getUsageByYear(year);\n\n\t\t\t_.each(usage, function(value, index) {\n\t\t\t\tvalue.percent = +(value.total * 100/total.total).toFixed(1);\n\t\t\t});\n\t\t\treturn {\n\t\t\t\tusage: usage,\n\t\t\t\ttotal: total\n\t\t\t};\n\t\t},\n\t\tinit = function() {\n\t\t\t_data.sort(_sort);\n\t\t};\n\n\tinit();\n\n\treturn {\n\t\tgetYears: _getYears,\n\t\tgetMonths: function(year) {\n\t\t\tvar result = _getMonths(year);\n\t\t\tresult = _.map(result, function(month) {\n\t\t\t\treturn moment([year, month]).format(\"MMMM\");\n\t\t\t});\n\t\t\treturn result;\n\t\t},\n\t\tgetUsageByUser: function(year, month, filter) {\n\t\t\tvar result = _getUsageByUser(year, moment(year+'-'+month, \"YYYY-MMMM\").month(), filter);\n\t\t\treturn {\n\t\t\t\tdata: result\n\t\t\t};\n\t\t},\n\t\tgetUsageByMonth: function(year) {\n\t\t\tvar result = _getUsageByMonth(year);\n\t\t\treturn {\n\t\t\t\tdata: result\n\t\t\t};\n\t\t},\n\t\tgetUsageByYear: function() {\n\t\t\tvar result = _getYears();\n\t\t\tresult = _.map(result, function(entry) {\n\t\t\t\treturn _getUsageByYear(entry);\n\t\t\t});\n\t\t\treturn {\n\t\t\t\tdata: result,\n\t\t\t};\n\t\t}\n\t};\n});\n;/*\n *    Copyright (C) 2010 - 2018 VREM Software Development <VREMSoftwareDevelopment@gmail.com>\n *\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\n *    you may not use this file except in compliance with the License.\n *    You may obtain a copy of the License at\n *\n *        http://www.apache.org/licenses/LICENSE-2.0\n *\n *    Unless required by applicable law or agreed to in writing, software\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *    See the License for the specific language governing permissions and\n *    limitations under the License.\n */\nangular.module('BWMonApp.UsageByMonth', ['ngRoute'])\n.config(function($routeProvider) {\n\t$routeProvider.when('/UsageByMonth', {\n\t\ttemplateUrl: 'usagebymonth/usageByMonth.tpl.html',\n\t\tcontroller: 'UsageByMonthController',\n\t\tcontrollerAs: 'usageByMonthCtrl'\n\t});\n})\n.controller('UsageByMonthController', function($scope, dataService, chartService) {\n\tvar ctrl = this,\n\t\treset = function() {\n\t\t\tctrl.predicate = 'id';\n\t\t\tctrl.descending = true;\n\t\t};\n\n\tctrl.setOrder = function(predicate) {\n\t\tctrl.descending = (ctrl.predicate === predicate) ? !ctrl.descending : true;\n\t\tctrl.predicate = predicate;\n\t};\n\t\n\tctrl.getOrder = function(predicate) {\n\t\treturn ctrl.predicate === predicate ? (ctrl.descending ? {desc:true} : {asc: true}): {};\n\t};\n\n\tctrl.getLabel = function(value) {\n\t\tvar result = '';\n\t\tif (value % 1 === 0 && value >= 0 && value <= 11) {\n\t\t\tresult = moment({month: value}).format(\"MMMM\");\n\t\t}\n\t\treturn result;\n\t};\n\n\t$scope.$watch('usageByMonthCtrl.selected', function() {\n\t\tvar usageData = dataService.getUsageByMonth(ctrl.selected.year);\n\n\t\tctrl.data = usageData.data.usage;\n\t\tctrl.total = usageData.data.total;\n\t\tctrl.chartData = chartService.getChartData(usageData.data.usage);\n\t\tctrl.chartOptions = chartService.getChartOptions(ctrl.getLabel, ctrl.getLabel);\n\t\tctrl.chartOptions.series[0].type = ctrl.selected.chartType;\n\n\t\treset();\n\t}, true);\n\t\n\tctrl.selected = {\n\t\tyear: dataService.getYears()[0],\n\t\tchartType: chartService.getChartTypes()[0]\n\t};\n\treset();\n\n})\n;\n;/*\n *    Copyright (C) 2010 - 2018 VREM Software Development <VREMSoftwareDevelopment@gmail.com>\n *\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\n *    you may not use this file except in compliance with the License.\n *    You may obtain a copy of the License at\n *\n *        http://www.apache.org/licenses/LICENSE-2.0\n *\n *    Unless required by applicable law or agreed to in writing, software\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *    See the License for the specific language governing permissions and\n *    limitations under the License.\n */\nangular.module('BWMonApp.UsageByUser', ['ngRoute'])\n.config(function($routeProvider) {\n\t$routeProvider.when('/UsageByUser', {\n\t\ttemplateUrl: 'usagebyuser/usageByUser.tpl.html',\n\t\tcontroller: 'UsageByUserController',\n\t\tcontrollerAs: 'usageByUserCtrl'\n\t});\n})\n.controller('UsageByUserController', function($scope, dataService, chartService) {\n\tvar ctrl = this,\n\t\treset = function() {\n\t\t\tctrl.selected.user = '';\n\t\t\tctrl.predicate = 'IP';\n\t\t\tctrl.descending = false;\n\t\t},\n\t\tfindUserData = function(value) {\n\t\t\tvar result;\n\t\t\tif (value % 1 === 0) {\n\t\t\t\tresult = _.find(ctrl.data, function(item) {\n\t\t\t\t\treturn value === item.id;\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\n\tctrl.setOrder = function(predicate) {\n\t\tctrl.descending = (ctrl.predicate === predicate) ? !ctrl.descending : false;\n\t\tctrl.predicate = predicate;\n\t};\n\t\n\tctrl.getOrder = function(predicate) {\n\t\treturn ctrl.predicate === predicate ? (ctrl.descending ? {desc:true} : {asc: true}): {};\n\t};\n\n\tctrl.getLabel = function(value) {\n\t\tvar result = '',\n\t\t\titem = findUserData(value); \n\t\tif (typeof item !== 'undefined' && item !== null) {\n\t\t\tresult = item.IP;\n\t\t}\n\t\treturn result;\n\t};\n\t\n\tctrl.getTooltip = function(value) {\n\t\tvar result = '',\n\t\t\titem = findUserData(value); \n\t\tif (typeof item !== 'undefined' && item !== null) {\n\t\t\tresult = item.IP + \" | \" + item.MAC + \" | \" + item.user;\n\t\t}\n\t\treturn result;\n\t};\n\n\t$scope.$watch('usageByUserCtrl.selected.year', function() {\n\t\treset();\n\t\tctrl.selected.month = dataService.getMonths(ctrl.selected.year)[0];\n\t}, true);\n\n\t$scope.$watch('usageByUserCtrl.selected.month', function() {\n\t\treset();\n\t}, true);\n\t\n\t$scope.$watch('usageByUserCtrl.selected', function() {\n\t\tvar usageData = dataService.getUsageByUser(ctrl.selected.year, ctrl.selected.month, ctrl.selected.user);\n\t\t\n\t\tctrl.data = usageData.data.usage;\n\t\tctrl.total = usageData.data.total;\n\t\tctrl.chartData = chartService.getChartData(usageData.data.usage);\n\t\tctrl.chartOptions = chartService.getChartOptions(ctrl.getLabel, ctrl.getTooltip);\n\t\tctrl.chartOptions.series[0].type = ctrl.selected.chartType;\n\t}, true);\n\t\n\tctrl.selected = {\n\t\tyear: dataService.getYears()[0],\n\t\tchartType: chartService.getChartTypes()[0]\n\t};\n\tctrl.pageSize = 15;\n\treset();\n\t\n})\n;\n;/*\n *    Copyright (C) 2010 - 2018 VREM Software Development <VREMSoftwareDevelopment@gmail.com>\n *\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\n *    you may not use this file except in compliance with the License.\n *    You may obtain a copy of the License at\n *\n *        http://www.apache.org/licenses/LICENSE-2.0\n *\n *    Unless required by applicable law or agreed to in writing, software\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *    See the License for the specific language governing permissions and\n *    limitations under the License.\n */\nangular.module('BWMonApp.UsageByYear', ['ngRoute'])\n.config(function($routeProvider) {\n\t$routeProvider.when('/UsageByYear', {\n\t\ttemplateUrl: 'usagebyyear/usageByYear.tpl.html',\n\t\tcontroller: 'UsageByYearController',\n\t\tcontrollerAs: 'usageByYearCtrl'\n\t});\n})\n.controller('UsageByYearController', function($scope, dataService, chartService) {\n\tvar ctrl = this,\n\t\tusageData = dataService.getUsageByYear();\n\n\tctrl.setOrder = function(predicate) {\n\t\tctrl.descending = (ctrl.predicate === predicate) ? !ctrl.descending : true;\n\t\tctrl.predicate = predicate;\n\t};\n\t\n\tctrl.getOrder = function(predicate) {\n\t\treturn ctrl.predicate === predicate ? (ctrl.descending ? {desc:true} : {asc: true}): {};\n\t};\n\t\n\tctrl.getLabel = function(value) {\n\t\treturn value % 1 === 0 ? value : '';\n\t};\n\t\n\t$scope.$watch('usageByYearCtrl.selected.chartType', function() {\n\t\tctrl.chartOptions.series[0].type = ctrl.selected.chartType;\n\t}, true);\n\t\n\tctrl.predicate = 'id';\n\tctrl.descending = true;\n\tctrl.selected = {\n\t\tchartType: chartService.getChartTypes()[0]\n\t};\n\tctrl.data = usageData.data;\n\tctrl.chartData = chartService.getChartData(usageData.data);\n\tctrl.chartOptions = chartService.getChartOptions(ctrl.getLabel, ctrl.getLabel);\n\t\n})\n;\n"]}